# åˆ é™¤æŒ‡å®šAIæ¨¡å‹ - å®Œæ•´æ€»ç»“

## ğŸ“‹ ä»»åŠ¡ç›®æ ‡

ä»ç³»ç»Ÿä¸­åˆ é™¤ä»¥ä¸‹ DeepSeek å’Œ Kimi æ¨¡å‹ï¼š
- âŒ `deepseek-v3.1-free` - DeepSeek V3.1 å…è´¹ç‰ˆ
- âŒ `deepseek-v3.1` - DeepSeek V3.1 æ ‡å‡†ç‰ˆ
- âŒ `deepseek-v3.2` - DeepSeek V3.2 æœ€æ–°ç‰ˆ
- âŒ `kimi-k2-free` - Kimi K2 å…è´¹ç‰ˆ

## âœ… å·²å®Œæˆçš„æ£€æŸ¥

### 1. å‰ç«¯ä»£ç æ£€æŸ¥ âœ…

**æ£€æŸ¥ä½ç½®**:
- âœ… `src/components/AiModelSelector.vue` - æ¨¡å‹é€‰æ‹©å™¨ç»„ä»¶
- âœ… `src/pages/HomePage.vue` - ä¸»é¡µ
- âœ… `src/pages/app/AppChatPage.old-optimized.vue` - åº”ç”¨ç”Ÿæˆé¡µé¢

**æ£€æŸ¥ç»“æœ**:
```
âœ“ æ‰€æœ‰é¡µé¢éƒ½ä½¿ç”¨ <AiModelSelector> ç»„ä»¶
âœ“ æ¨¡å‹åˆ—è¡¨é€šè¿‡ API åŠ¨æ€åŠ è½½: listEnabledModels()
âœ“ æ— ç¡¬ç¼–ç çš„æ¨¡å‹åˆ—è¡¨
âœ“ åˆ é™¤æ•°æ®åº“è®°å½•åè‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ— éœ€ä¿®æ”¹å‰ç«¯ä»£ç 
```

**å›¾æ ‡åŒ¹é…é€»è¾‘**ï¼ˆä¿ç•™ï¼‰:
```typescript
// è¿™äº›æ˜¯åŠ¨æ€åˆ¤æ–­é€»è¾‘ï¼Œä¸æ˜¯ç¡¬ç¼–ç æ¨¡å‹
if (modelKey.includes('deepseek')) { ... }
else if (modelKey.includes('kimi')) { ... }
```
â†’ åˆ é™¤æ¨¡å‹åï¼Œè¿™äº›é€»è¾‘ä»ç„¶æœ‰æ•ˆï¼Œç”¨äºåŠ¨æ€åŒ¹é…å…¶ä»– deepseek/kimi æ¨¡å‹

### 2. åç«¯ä»£ç æ£€æŸ¥ âœ…

**æ£€æŸ¥ä½ç½®**:
- âœ… æ‰€æœ‰ Java æºæ–‡ä»¶
- âœ… é…ç½®æ–‡ä»¶
- âœ… æµ‹è¯•æ–‡ä»¶

**æ£€æŸ¥ç»“æœ**:
```
âœ“ æœªå‘ç°å¯¹è¿™4ä¸ªæ¨¡å‹çš„ç¡¬ç¼–ç å¼•ç”¨
âœ“ å”¯ä¸€å‘ç°: SimpleOpenAiApiTest.java å¼•ç”¨ "deepseek-v3"
  â†’ ä¸æ˜¯æˆ‘ä»¬è¦åˆ é™¤çš„æ¨¡å‹ï¼Œæ— å½±å“
âœ“ æ— éœ€ä¿®æ”¹åç«¯ä»£ç 
```

### 3. æ•°æ®åº“é…ç½®æ£€æŸ¥ âœ…

**ä½ç½®**: `sql/add_all_available_models.sql`

**æ‰¾åˆ°çš„è®°å½•**:
```sql
-- Line 48
('deepseek-v3.1-free', 'DeepSeek V3.1 å…è´¹ç‰ˆ', 'openrouter', ..., 1, 301),

-- Line 49
('deepseek-v3.1', 'DeepSeek V3.1', 'iflow', ..., 1, 302),

-- Line 50
('deepseek-v3.2', 'DeepSeek V3.2', 'iflow', ..., 1, 303),

-- Line 58
('kimi-k2-free', 'Kimi K2 å…è´¹ç‰ˆ', 'openrouter', ..., 1, 402);
```

## ğŸ“¦ å·²åˆ›å»ºçš„æ–‡ä»¶

### 1. SQL åˆ é™¤è„šæœ¬
**æ–‡ä»¶**: `sql/remove_specific_models.sql`
```sql
-- åŒ…å«æŸ¥è¯¢ã€åˆ é™¤ã€éªŒè¯ä¸‰æ­¥æ“ä½œ
-- å¯å®‰å…¨æ‰§è¡Œï¼Œæ”¯æŒå›æ»š
```

### 2. æ‰§è¡ŒæŒ‡å—
**æ–‡ä»¶**: `sql/README_REMOVE_MODELS.md`
```markdown
- è¯¦ç»†çš„æ‰§è¡Œæ­¥éª¤
- å¤šç§æ‰§è¡Œæ–¹æ³•
- éªŒè¯æ£€æŸ¥æ¸…å•
- æ¢å¤æ–¹æ³•
```

### 3. è‡ªåŠ¨æ‰§è¡Œè„šæœ¬
**æ–‡ä»¶**: `sql/execute_remove_models.bat`
```batch
- åŒå‡»è¿è¡Œ
- è¾“å…¥MySQLå¯†ç 
- è‡ªåŠ¨æ‰§è¡Œåˆ é™¤
- æ˜¾ç¤ºæ‰§è¡Œç»“æœ
```

## ğŸš€ æ‰§è¡Œæ–¹æ³•ï¼ˆ3é€‰1ï¼‰

### æ–¹æ³• 1: åŒå‡»æ‰¹å¤„ç†è„šæœ¬ â­ æ¨è

```bash
# Windows ç”¨æˆ·æ¨è
1. åŒå‡»: sql/execute_remove_models.bat
2. è¾“å…¥ MySQL å¯†ç 
3. ç­‰å¾…æ‰§è¡Œå®Œæˆ
```

### æ–¹æ³• 2: MySQL å‘½ä»¤è¡Œ

```bash
# 1. è¿æ¥MySQL
mysql -u root -p

# 2. åˆ‡æ¢æ•°æ®åº“
USE ai_code_mother;

# 3. æ‰§è¡Œåˆ é™¤
DELETE FROM ai_model_config 
WHERE model_key IN (
    'deepseek-v3.1-free',
    'deepseek-v3.1', 
    'deepseek-v3.2',
    'kimi-k2-free'
);

# 4. ç¡®è®¤ç»“æœ
SELECT COUNT(*) FROM ai_model_config 
WHERE model_key IN ('deepseek-v3.1-free', 'deepseek-v3.1', 'deepseek-v3.2', 'kimi-k2-free');
-- åº”è¯¥è¿”å›: 0
```

### æ–¹æ³• 3: æ•°æ®åº“ç®¡ç†å·¥å…·

```
1. æ‰“å¼€ Navicat / MySQL Workbench / DBeaver
2. è¿æ¥åˆ° ai_code_mother æ•°æ®åº“
3. æ‰“å¼€ sql/remove_specific_models.sql
4. æ‰§è¡Œæ•´ä¸ªè„šæœ¬
```

## âœ… éªŒè¯æ­¥éª¤

### 1. æ•°æ®åº“éªŒè¯

```sql
-- æŸ¥è¯¢åº”è¯¥è¿”å› 0 æ¡è®°å½•
SELECT * FROM ai_model_config 
WHERE model_key IN (
    'deepseek-v3.1-free',
    'deepseek-v3.1', 
    'deepseek-v3.2',
    'kimi-k2-free'
);
```

### 2. åç«¯éªŒè¯

```bash
# é‡å¯åç«¯æœåŠ¡ï¼ˆå¦‚æœåœ¨è¿è¡Œï¼‰
# Windows
mvnw.cmd spring-boot:run

# Linux/Mac
./mvnw spring-boot:run
```

### 3. å‰ç«¯éªŒè¯

1. åˆ·æ–°æµè§ˆå™¨: `http://localhost:5173`

2. **ä¸»é¡µæµ‹è¯•**:
   ```
   â†’ ç‚¹å‡»è¾“å…¥æ¡†
   â†’ ç‚¹å‡»å·¦ä¾§ + æŒ‰é’®
   â†’ æŸ¥çœ‹æ¨¡å‹åˆ—è¡¨
   â†’ ç¡®è®¤4ä¸ªæ¨¡å‹å·²æ¶ˆå¤±
   ```

3. **åº”ç”¨ç”Ÿæˆé¡µæµ‹è¯•**:
   ```
   â†’ è¿›å…¥ä»»æ„åº”ç”¨
   â†’ ç‚¹å‡»å·¦ä¸‹è§’æ¨¡å‹é€‰æ‹©å™¨
   â†’ ç¡®è®¤4ä¸ªæ¨¡å‹å·²æ¶ˆå¤±
   ```

## ğŸ“Š é¢„æœŸç»“æœ

### Before (åˆ é™¤å‰)
```
æ€»å¯ç”¨æ¨¡å‹: ~55 ä¸ª
åŒ…å«:
  âœ“ deepseek-v3.1-free
  âœ“ deepseek-v3.1
  âœ“ deepseek-v3.2
  âœ“ kimi-k2-free
```

### After (åˆ é™¤å)
```
æ€»å¯ç”¨æ¨¡å‹: ~51 ä¸ª
ä¸åŒ…å«:
  âœ— deepseek-v3.1-free
  âœ— deepseek-v3.1
  âœ— deepseek-v3.2
  âœ— kimi-k2-free
```

## ğŸ¯ æ£€æŸ¥æ¸…å•

- [ ] **Step 1**: æ‰§è¡ŒSQLåˆ é™¤ï¼ˆ3ç§æ–¹æ³•é€‰1ï¼‰
- [ ] **Step 2**: éªŒè¯æ•°æ®åº“è®°å½•å·²åˆ é™¤
- [ ] **Step 3**: é‡å¯åç«¯æœåŠ¡
- [ ] **Step 4**: åˆ·æ–°å‰ç«¯é¡µé¢
- [ ] **Step 5**: æµ‹è¯•ä¸»é¡µæ¨¡å‹åˆ—è¡¨
- [ ] **Step 6**: æµ‹è¯•åº”ç”¨ç”Ÿæˆé¡µæ¨¡å‹åˆ—è¡¨
- [ ] **Step 7**: é€‰æ‹©å…¶ä»–æ¨¡å‹æµ‹è¯•åŠŸèƒ½

## âš ï¸ æ³¨æ„äº‹é¡¹

### å®‰å…¨æ€§
- âœ… æ“ä½œä¸å½±å“å·²ç”Ÿæˆçš„åº”ç”¨
- âœ… æ“ä½œä¸å½±å“å†å²èŠå¤©è®°å½•
- âœ… æ“ä½œä»…åˆ é™¤æ¨¡å‹é…ç½®è®°å½•
- âœ… å¯é€šè¿‡é‡æ–°è¿è¡Œ `add_all_available_models.sql` æ¢å¤

### å»ºè®®
1. **å¤‡ä»½æ•°æ®åº“**ï¼ˆå¯é€‰ï¼‰:
   ```bash
   mysqldump -u root -p ai_code_mother > backup_$(date +%Y%m%d).sql
   ```

2. **ç»´æŠ¤çª—å£æ‰§è¡Œ**: å»ºè®®åœ¨ç³»ç»Ÿç»´æŠ¤æ—¶é—´æ‰§è¡Œ

3. **å›¢é˜Ÿé€šçŸ¥**: æ‰§è¡Œå‰é€šçŸ¥å›¢é˜Ÿæˆå‘˜

## ğŸ“ ç›¸å…³æ–‡ä»¶

```
sql/
â”œâ”€â”€ remove_specific_models.sql      # SQLåˆ é™¤è„šæœ¬
â”œâ”€â”€ execute_remove_models.bat       # Windowsè‡ªåŠ¨æ‰§è¡Œè„šæœ¬
â”œâ”€â”€ README_REMOVE_MODELS.md         # è¯¦ç»†æ‰§è¡ŒæŒ‡å—
â””â”€â”€ add_all_available_models.sql    # åŸå§‹é…ç½®ï¼ˆæ¢å¤ç”¨ï¼‰

ai-code-mother-frontend/src/
â”œâ”€â”€ components/AiModelSelector.vue  # æ¨¡å‹é€‰æ‹©å™¨ï¼ˆå·²æ£€æŸ¥âœ“ï¼‰
â”œâ”€â”€ pages/HomePage.vue              # ä¸»é¡µï¼ˆå·²æ£€æŸ¥âœ“ï¼‰
â””â”€â”€ pages/app/AppChatPage.old-optimized.vue  # åº”ç”¨é¡µï¼ˆå·²æ£€æŸ¥âœ“ï¼‰
```

## ğŸ”„ æ¢å¤æ–¹æ³•ï¼ˆå¦‚æœéœ€è¦ï¼‰

å¦‚æœè¯¯åˆ æˆ–éœ€è¦æ¢å¤ï¼š

```bash
# æ–¹æ³•1: é‡æ–°è¿è¡ŒåŸå§‹SQL
mysql -u root -p ai_code_mother < sql/add_all_available_models.sql

# æ–¹æ³•2: å•ç‹¬æ’å…¥ï¼ˆéœ€è¦å¤åˆ¶INSERTè¯­å¥ï¼‰
# ä» add_all_available_models.sql ä¸­å¤åˆ¶å¯¹åº”çš„ INSERT è¯­å¥
```

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
1. `sql/README_REMOVE_MODELS.md` - è¯¦ç»†æŒ‡å—
2. æœ¬æ–‡æ¡£ - å®Œæ•´æ€»ç»“
3. é”™è¯¯æ—¥å¿— - åç«¯æ—¥å¿—

---

**åˆ›å»ºæ—¶é—´**: 2025-01-XX  
**æ‰§è¡Œæ—¶é—´**: å¾…æ‰§è¡Œ  
**é¢„è®¡è€—æ—¶**: 1-2 åˆ†é’Ÿ  
**é£é™©è¯„ä¼°**: ğŸŸ¢ ä½é£é™©ï¼ˆå¯æ¢å¤ï¼‰
